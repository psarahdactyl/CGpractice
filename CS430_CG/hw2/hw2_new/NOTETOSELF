change to working with clipping algorithm instead of tester
